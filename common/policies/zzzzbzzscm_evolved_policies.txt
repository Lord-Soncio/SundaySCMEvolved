# - - - - - - - - - - - - - - - - - - - - - 
# Empire Policies
#
# #####
#
# AI:
# Base AI-weight is 100, if unchanged
# AI will grab whatever policy-option has the highest weight
#
# #####
#
# - - - - - - - - - - - - - - - - - - - - - 


# Empire -------------------------------------------------------------------

tec_drone_overclock = {
	potential = {
		has_ethic = ethic_gestalt_consciousness
		OR = {
			has_valid_civic = civic_tec_machine_techrush
			has_valid_civic = civic_tec_hive_cyberoverclock
		}
	}
	
	option = {
		name = "no_drone_overclock"

		policy_flags = {
			tec_no_overclock
		}

		modifier = {}

		AI_weight = {
			factor = 5
			modifier = {
				factor = 5
				has_monthly_income = {
					resource = energy
					value < 100
				}
			}
			modifier = {
				factor = 0
				has_monthly_income = {
					resource = energy
					value > 100
				}
			}
			modifier = {
				factor = 0
				has_monthly_income = {
					resource = energy
					value > 500
				}
			}
		}
	}

	option = {
		name = "mid_drone_overclock"

		potential = {
			has_valid_civic = civic_tec_machine_techrush
		}

		policy_flags = {
			tec_mid_overclock
		}
		modifier = {
			pop_category_drones_physics_research_produces_add = 0.5
			pop_category_drones_society_research_produces_add = 0.5
			pop_category_drones_engineering_research_produces_add = 0.5
			pop_category_drones_energy_upkeep_add = 0.25
		}

		AI_weight = {
			factor = 2
			modifier = {
				factor = 0
				has_monthly_income = {
					resource = energy
					value < 100
				}
			}
			modifier = {
				factor = 2
				has_monthly_income = {
					resource = energy
					value > 100
				}
			}
			modifier = {
				factor = 2
				has_monthly_income = {
					resource = energy
					value > 250
				}
			}
		}
	}

	option = {
		name = "large_drone_overclock"

		potential = {
			has_valid_civic = civic_tec_machine_techrush
		}
		
		policy_flags = {
			tec_max_overclock
		}
		
		modifier = {
			pop_category_drones_physics_research_produces_add = 1
			pop_category_drones_society_research_produces_add = 1
			pop_category_drones_engineering_research_produces_add = 1
			pop_category_drones_energy_upkeep_add = 0.5
		}

		AI_weight = {
			factor = 2
			modifier = {
				factor = 0
				has_monthly_income = {
					resource = energy
					value < 100
				}
			}
			modifier = {
				factor = 2
				has_monthly_income = {
					resource = energy
					value > 200
				}
			}
			modifier = {
				factor = 2
				has_monthly_income = {
					resource = energy
					value > 500
				}
			}
		}
	}

	# Hive
	option = {
		name = "low_drone_overclock_hive"

		potential = {
			has_valid_civic = civic_tec_hive_cyberoverclock
		}

		policy_flags = {
			tec_low_overclock_hive
		}
		modifier = {
			planet_jobs_complex_and_simple_drone_produces_mult = 0.05
			pop_category_drones_energy_upkeep_add = 0.25
		}

		AI_weight = {
			factor = 2
			modifier = {
				factor = 0
				has_monthly_income = {
					resource = energy
					value < 100
				}
			}
			modifier = {
				factor = 2
				has_monthly_income = {
					resource = energy
					value > 100
				}
			}
			modifier = {
				factor = 2
				has_monthly_income = {
					resource = energy
					value > 250
				}
			}
		}
	}

	option = {
		name = "mid_drone_overclock_hive"

		potential = {
			has_valid_civic = civic_tec_hive_cyberoverclock
		}

		policy_flags = {
			tec_mid_overclock_hive
		}
		modifier = {
			planet_jobs_complex_and_simple_drone_produces_mult = 0.10
			pop_category_drones_energy_upkeep_add = 0.5
		}

		AI_weight = {
			factor = 2
			modifier = {
				factor = 0
				has_monthly_income = {
					resource = energy
					value < 150
				}
			}
			modifier = {
				factor = 2
				has_monthly_income = {
					resource = energy
					value > 150
				}
			}
			modifier = {
				factor = 2
				has_monthly_income = {
					resource = energy
					value > 250
				}
			}
		}
	}

	option = {
		name = "large_drone_overclock_hive"

		potential = {
			has_valid_civic = civic_tec_hive_cyberoverclock
		}

		policy_flags = {
			tec_max_overclock_hive
		}
		
		modifier = {
			planet_jobs_complex_and_simple_drone_produces_mult = 0.20
			pop_category_drones_energy_upkeep_add = 1
		}

		AI_weight = {
			factor = 2
			modifier = {
				factor = 0
				has_monthly_income = {
					resource = energy
					value < 100
				}
			}
			modifier = {
				factor = 2
				has_monthly_income = {
					resource = energy
					value > 200
				}
			}
			modifier = {
				factor = 2
				has_monthly_income = {
					resource = energy
					value > 500
				}
			}
		}
	}
}

tec_competitive_ethic_policy = {	# DONE
	potential = {
		is_competitive = yes
	}

	# Regular
	inline_script = {
		script = policies/inline_evolved_ethic_option
		ethic = capitalism
		option = tec_competitive_A
		flag = tec_competitive_A
		potential = ""
		valid = "tec_is_dystopian_empire = no"
		extra_modifier = "
					tec_hired_job_trade_add = 1
					pop_lifestyle_trade_mult = 0.25
				"
		extra_modifier_fanatic = "
					tec_hired_job_trade_add = 2
					pop_lifestyle_trade_mult = 0.50
				"
		ai_weight = "
					factor = 1
					modifier = {
						factor = 10
						OR = {
							has_valid_civic = civic_tec_regular_corporate_politics
						}
					}
				"
		other = ""
	}

	inline_script = { #Broken thingie with trade
		script = policies/inline_evolved_ethic_option
		ethic = capitalism
		option = tec_competitive_B
		flag = tec_competitive_B
		potential = ""
		valid = ""
		extra_modifier = "
					tec_job_clerk_trade_value_add = 1
					tec_job_clerk_amenities_add = -1
					planet_clerks_unity_produces_add = 1
				"
		extra_modifier_fanatic = "
					tec_job_clerk_trade_value_add = 2
					tec_job_clerk_amenities_add = -2
					planet_clerks_unity_produces_add = 2
				"
		ai_weight = "
					factor = 1
					modifier = {
						factor = 10
						OR = {
							has_valid_civic = civic_inwards_perfection
							is_homicidal = yes
						}
					}
				"
		other = ""
	}

	inline_script = {
		script = policies/inline_evolved_ethic_option
		ethic = capitalism
		option = tec_competitive_C
		flag = tec_competitive_C
		potential = ""
		valid = "
					NOR = {
						has_valid_civic = civic_inwards_perfection
						is_homicidal = yes
					}
				"
		extra_modifier = "
 					commercial_pact_mult = 0.25
					country_trade_fee = -0.05
 				"
		extra_modifier_fanatic = "
 					commercial_pact_mult = 0.5
					country_trade_fee = -0.1
 				"
		ai_weight = "
					factor = 5
				"
		other = ""
	}
	# /
}
